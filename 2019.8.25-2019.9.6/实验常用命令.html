<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>实验常用命令</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="g4wj" id="实验常用命令">实验常用命令</h1><p data-anchor-id="zpns"><code>实验</code></p><hr><p data-anchor-id="tyrn">（1）mininet构建拓扑</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="7omi"><ol class="linenums"><li class="L0"><code><span class="com"># mn</span></code></li><li class="L1"><code><span class="pun">--</span><span class="pln">help</span><span class="pun">，-</span><span class="pln">h </span><span class="com">//获取帮助信息</span></code></li><li class="L2"><code><span class="pun">--</span><span class="kwd">switch</span><span class="pun">=</span><span class="pln">SWITCH </span><span class="com">//指定交换机，默认为OVSSwitch</span></code></li><li class="L3"><code><span class="pun">--</span><span class="pln">controller</span><span class="pun">=</span><span class="pln">CONTROLLER </span><span class="com">//指定控制器类型。remote即本地运行的控制器；nox；ryu</span></code></li><li class="L4"><code><span class="pun">--</span><span class="pln">ip</span><span class="pun">=</span><span class="pln">IP </span><span class="com">//指定控制器的IP地址</span></code></li><li class="L5"><code><span class="pun">--</span><span class="pln">topo</span><span class="pun">=</span><span class="pln">TOPO</span><span class="pun">，</span><span class="pln">value</span><span class="com">//指定拓扑结构及交换机数量。linear：；single：；tree：</span></code></li><li class="L6"><code><span class="pun">--</span><span class="pln">clean</span><span class="pun">，-</span><span class="pln">c </span><span class="com">//清除拓扑</span></code></li><li class="L7"><code><span class="pun">--</span><span class="pln">custom</span><span class="pun">=</span><span class="pln">CUSTOM </span><span class="com">//指定自定义的拓扑，CUSTOM为python文件</span></code></li><li class="L8"><code><span class="pun">--</span><span class="pln">listenport</span><span class="pun">=</span><span class="pln">LISTENPORT </span><span class="com">//指定监听的端口，一般为本机控制器开启的端口，为6634</span></code></li></ol></pre><p data-anchor-id="h1ho">（2）ovs流表查看</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="16rr"><ol class="linenums"><li class="L0"><code><span class="pln">mininet</span><span class="pun">&gt;</span><span class="pln">dpctl</span></code></li><li class="L1"><code><span class="pun">-</span><span class="pln">h </span><span class="com">//获取帮助信息</span></code></li><li class="L2"><code><span class="kwd">dump</span><span class="pun">-</span><span class="pln">ports SWITCH </span><span class="pun">[</span><span class="pln">PORT</span><span class="pun">]</span><span class="pln"> </span><span class="com">//打印端口统计信息</span></code></li><li class="L3"><code><span class="kwd">dump</span><span class="pun">-</span><span class="pln">ports</span><span class="pun">-</span><span class="pln">desc SWITCH </span><span class="pun">[</span><span class="pln">PORT</span><span class="pun">]</span><span class="pln"> </span><span class="com">//打印端口的描述信息</span></code></li><li class="L4"><code><span class="kwd">dump</span><span class="pun">-</span><span class="pln">flows SWITCH </span><span class="com">//打印交换机上的所有流条目</span></code></li><li class="L5"><code><span class="kwd">dump</span><span class="pun">-</span><span class="pln">flows SWITCH FLOW </span><span class="com">//打印匹配的流条目</span></code></li><li class="L6"><code><span class="pln">add</span><span class="pun">-</span><span class="pln">flow SWITCH FLOW </span><span class="com">//在交换机上增加有FLOW描述的流</span></code></li><li class="L7"><code><span class="pln">add</span><span class="pun">-</span><span class="pln">flows SWITCH FILE </span><span class="com">//从文件中增加流</span></code></li><li class="L8"><code><span class="pln">mod</span><span class="pun">-</span><span class="pln">flows SWITCH FLOW </span><span class="com">//修改匹配流的动作</span></code></li><li class="L9"><code><span class="kwd">del</span><span class="pun">-</span><span class="pln">flows SWITCH </span><span class="pun">[</span><span class="pln">FLOW</span><span class="pun">]</span><span class="pln"> </span><span class="com">//删除匹配的流</span></code></li><li class="L0"><code><span class="pln">add</span><span class="pun">-</span><span class="pln">meter SWITCH METER </span><span class="com">//在交换机上增加METER描述的测量(mod;del)</span></code></li><li class="L1"><code><span class="kwd">del</span><span class="pun">-</span><span class="pln">meters SWITCH </span><span class="com">//删除交换机上的所有meter</span></code></li><li class="L2"><code><span class="kwd">dump</span><span class="pun">-</span><span class="pln">meter SWITCH METER </span><span class="com">//打印交换机上的所有meter配置</span></code></li><li class="L3"><code><span class="kwd">dump</span><span class="pun">-</span><span class="pln">meter SWITCH </span><span class="com">//打印所有的meter配置</span></code></li><li class="L4"><code><span class="pln">tcp</span><span class="pun">:</span><span class="pln">IP</span><span class="pun">[:</span><span class="pln">PORT</span><span class="pun">]</span><span class="pln"> </span><span class="com">//远程连接OpenFlow，port为6653</span></code></li><li class="L5"><code><span class="pun">--</span><span class="pln">version</span><span class="pun">，-</span><span class="pln">V </span><span class="com">//显示版本信息</span></code></li><li class="L6"><code><span class="pun">--</span><span class="pln">protocols</span><span class="pun">，-</span><span class="pln">O </span><span class="com">//设置允许的OpenFlow版本(默认OF10-13)</span></code></li></ol></pre><p data-anchor-id="z5ol">（3）ODL feature相关命令</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="gp7f"><ol class="linenums"><li class="L0"><code><span class="pln">opendaylight</span><span class="pun">-</span><span class="pln">user@root</span><span class="pun">&gt;</span></code></li><li class="L1"><code><span class="pln">feature</span><span class="pun">:</span><span class="pln">install FEATURE </span><span class="com">//安装相关FEATURE</span></code></li><li class="L2"><code><span class="pln">feature</span><span class="pun">:</span><span class="pln">list </span><span class="com">//列举所有的feature；-i 列举所有安装的feature</span></code></li><li class="L3"><code><span class="com">//feature:list -i | grep switch </span></code></li><li class="L4"><code><span class="pln">log</span><span class="pun">:</span><span class="pln">tail </span><span class="com">//打开日志</span></code></li></ol></pre></div>
</body>
</html>